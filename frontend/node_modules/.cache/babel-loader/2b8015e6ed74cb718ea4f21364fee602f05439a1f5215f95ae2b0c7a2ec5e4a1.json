{"ast":null,"code":"var _excluded = [\"children\", \"options\", \"property\", \"range\"];\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nimport React, { useContext, useMemo, useState } from 'react';\nimport { DataContext } from '../../contexts/DataContext';\nimport { DataForm } from '../Data/DataForm';\nimport { FormContext } from '../Form/FormContext';\nimport { FormField } from '../FormField';\nimport { CheckBoxGroup } from '../CheckBoxGroup';\nimport { RangeSelector } from '../RangeSelector';\nimport { SelectMultiple } from '../SelectMultiple';\nimport { DataFilterPropTypes } from './propTypes';\n\n// empirical constants for when we change inputs\nvar maxCheckBoxGroupOptions = 4;\nvar minSelectSearchOptions = 10;\nvar getValueAt = function getValueAt(valueObject, pathArg) {\n  if (valueObject === undefined) return undefined;\n  var path = Array.isArray(pathArg) ? pathArg : pathArg.split('.');\n  if (path.length === 1) return valueObject[path];\n  return getValueAt(valueObject[path.shift()], path);\n};\nvar generateOptions = function generateOptions(data, property) {\n  return Array.from(new Set(data.map(function (d) {\n    return getValueAt(d, property);\n  }))).filter(function (v) {\n    return v !== undefined && v !== '';\n  }).sort();\n};\nvar alignMax = function alignMax(value, interval) {\n  if (value > 0) return value - value % interval + interval;\n  if (value < 0) return value + value % interval;\n  return value;\n};\nvar alignMin = function alignMin(value, interval) {\n  if (value > 0) return value - value % interval;\n  if (value < 0) return value - value % interval - interval;\n  return value;\n};\nvar booleanOptions = [{\n  label: 'true',\n  value: true\n}, {\n  label: 'false',\n  value: false\n}];\nexport var DataFilter = function DataFilter(_ref) {\n  var _properties$property3;\n  var children = _ref.children,\n    optionsProp = _ref.options,\n    property = _ref.property,\n    rangeProp = _ref.range,\n    rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n  var _useContext = useContext(DataContext),\n    data = _useContext.data,\n    dataId = _useContext.id,\n    properties = _useContext.properties,\n    unfilteredData = _useContext.unfilteredData;\n  var _useContext2 = useContext(FormContext),\n    noForm = _useContext2.noForm;\n  var _useState = useState(''),\n    searchText = _useState[0],\n    setSearchText = _useState[1];\n  var _useMemo = useMemo(function () {\n      var _properties$property, _properties$property2;\n      if (children) return [undefined, undefined]; // caller driving\n\n      var optionsIn = optionsProp || (properties == null || (_properties$property = properties[property]) == null ? void 0 : _properties$property.options);\n      var rangeIn = rangeProp || (properties == null || (_properties$property2 = properties[property]) == null ? void 0 : _properties$property2.range);\n      if (optionsIn) return [optionsIn, undefined];\n      if (rangeIn) return [undefined, [rangeIn.min, rangeIn.max]];\n\n      // generate options from all values for property\n      var uniqueValues = generateOptions(unfilteredData || data, property);\n      // if less than two values, nothing to filter\n      if (uniqueValues.length < 2) return [undefined, undefined];\n      // if any values aren't numeric, treat as options\n      if (uniqueValues.some(function (v) {\n        return v !== undefined && typeof v !== 'number';\n      })) return [uniqueValues, undefined];\n      // all values are numeric, treat as range\n      // normalize to make it friendler, so [1.3, 4.895] becomes [1, 5]\n      var delta = uniqueValues[uniqueValues.length - 1] - uniqueValues[0];\n      var interval = Number.parseFloat((delta / 3).toPrecision(1));\n      var min = alignMin(uniqueValues[0], interval);\n      var max = alignMax(uniqueValues[uniqueValues.length - 1], interval);\n      return [undefined, [min, max]];\n    }, [children, data, optionsProp, properties, property, rangeProp, unfilteredData]),\n    options = _useMemo[0],\n    range = _useMemo[1];\n  var searchedOptions = useMemo(function () {\n    if (!searchText) return options;\n    // The line below escapes regular expression special characters:\n    // [ \\ ^ $ . | ? * + ( )\n    var escapedText = searchText.replace(/[-\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n    // Create the regular expression with modified value which\n    // handles escaping special characters. Without escaping special\n    // characters, errors will appear in the console\n    var exp = new RegExp(escapedText, 'i');\n    return options.filter(function (o) {\n      return typeof o === 'string' ? exp.test(o) : exp.test(o.label);\n    });\n  }, [options, searchText]);\n  var id = dataId + \"-\" + property;\n  var content = children;\n  if (!content) {\n    if (range) {\n      content = /*#__PURE__*/React.createElement(RangeSelector, {\n        id: id,\n        name: property + \"._range\",\n        defaultValues: range,\n        label: true,\n        min: range[0],\n        max: range[1],\n        step: (range[1] - range[0]) / 20,\n        size: \"full\",\n        round: \"small\"\n      });\n    } else if (options) {\n      if (options.length === 2 && options[1] === true && options[0] === false) {\n        // special case boolean properties\n        content = /*#__PURE__*/React.createElement(CheckBoxGroup, {\n          id: id,\n          name: property,\n          options: booleanOptions\n        });\n      } else if (options.length <= maxCheckBoxGroupOptions) {\n        content = /*#__PURE__*/React.createElement(CheckBoxGroup, {\n          id: id,\n          name: property,\n          options: options\n        });\n      } else {\n        content = /*#__PURE__*/React.createElement(SelectMultiple, {\n          id: id,\n          name: property,\n          showSelectedInline: true,\n          options: searchedOptions,\n          onSearch: options.length >= minSelectSearchOptions ? setSearchText : undefined,\n          onClose: function onClose() {\n            return setSearchText('');\n          }\n        });\n      }\n    }\n  }\n  if (!content) return null;\n  if (noForm)\n    // likely in Toolbar\n    content = /*#__PURE__*/React.createElement(DataForm, {\n      footer: false,\n      updateOn: \"change\"\n    }, content);else content = /*#__PURE__*/React.createElement(FormField, _extends({\n    htmlFor: id,\n    name: property,\n    label: (properties == null || (_properties$property3 = properties[property]) == null ? void 0 : _properties$property3.label) || property\n  }, rest), content);\n  return content;\n};\nDataFilter.propTypes = DataFilterPropTypes;","map":{"version":3,"names":["_excluded","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","React","useContext","useMemo","useState","DataContext","DataForm","FormContext","FormField","CheckBoxGroup","RangeSelector","SelectMultiple","DataFilterPropTypes","maxCheckBoxGroupOptions","minSelectSearchOptions","getValueAt","valueObject","pathArg","undefined","path","Array","isArray","split","shift","generateOptions","data","property","from","Set","map","d","filter","v","sort","alignMax","value","interval","alignMin","booleanOptions","label","DataFilter","_ref","_properties$property3","children","optionsProp","options","rangeProp","range","rest","_useContext","dataId","id","properties","unfilteredData","_useContext2","noForm","_useState","searchText","setSearchText","_useMemo","_properties$property","_properties$property2","optionsIn","rangeIn","min","max","uniqueValues","some","delta","Number","parseFloat","toPrecision","searchedOptions","escapedText","replace","exp","RegExp","o","test","content","createElement","name","defaultValues","step","size","round","showSelectedInline","onSearch","onClose","footer","updateOn","htmlFor","propTypes"],"sources":["/Users/gregoirelecler/Documents/GoblinModeCoding/task-manager/frontend/node_modules/grommet/es6/components/DataFilter/DataFilter.js"],"sourcesContent":["var _excluded = [\"children\", \"options\", \"property\", \"range\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport React, { useContext, useMemo, useState } from 'react';\nimport { DataContext } from '../../contexts/DataContext';\nimport { DataForm } from '../Data/DataForm';\nimport { FormContext } from '../Form/FormContext';\nimport { FormField } from '../FormField';\nimport { CheckBoxGroup } from '../CheckBoxGroup';\nimport { RangeSelector } from '../RangeSelector';\nimport { SelectMultiple } from '../SelectMultiple';\nimport { DataFilterPropTypes } from './propTypes';\n\n// empirical constants for when we change inputs\nvar maxCheckBoxGroupOptions = 4;\nvar minSelectSearchOptions = 10;\nvar getValueAt = function getValueAt(valueObject, pathArg) {\n  if (valueObject === undefined) return undefined;\n  var path = Array.isArray(pathArg) ? pathArg : pathArg.split('.');\n  if (path.length === 1) return valueObject[path];\n  return getValueAt(valueObject[path.shift()], path);\n};\nvar generateOptions = function generateOptions(data, property) {\n  return Array.from(new Set(data.map(function (d) {\n    return getValueAt(d, property);\n  }))).filter(function (v) {\n    return v !== undefined && v !== '';\n  }).sort();\n};\nvar alignMax = function alignMax(value, interval) {\n  if (value > 0) return value - value % interval + interval;\n  if (value < 0) return value + value % interval;\n  return value;\n};\nvar alignMin = function alignMin(value, interval) {\n  if (value > 0) return value - value % interval;\n  if (value < 0) return value - value % interval - interval;\n  return value;\n};\nvar booleanOptions = [{\n  label: 'true',\n  value: true\n}, {\n  label: 'false',\n  value: false\n}];\nexport var DataFilter = function DataFilter(_ref) {\n  var _properties$property3;\n  var children = _ref.children,\n    optionsProp = _ref.options,\n    property = _ref.property,\n    rangeProp = _ref.range,\n    rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n  var _useContext = useContext(DataContext),\n    data = _useContext.data,\n    dataId = _useContext.id,\n    properties = _useContext.properties,\n    unfilteredData = _useContext.unfilteredData;\n  var _useContext2 = useContext(FormContext),\n    noForm = _useContext2.noForm;\n  var _useState = useState(''),\n    searchText = _useState[0],\n    setSearchText = _useState[1];\n  var _useMemo = useMemo(function () {\n      var _properties$property, _properties$property2;\n      if (children) return [undefined, undefined]; // caller driving\n\n      var optionsIn = optionsProp || (properties == null || (_properties$property = properties[property]) == null ? void 0 : _properties$property.options);\n      var rangeIn = rangeProp || (properties == null || (_properties$property2 = properties[property]) == null ? void 0 : _properties$property2.range);\n      if (optionsIn) return [optionsIn, undefined];\n      if (rangeIn) return [undefined, [rangeIn.min, rangeIn.max]];\n\n      // generate options from all values for property\n      var uniqueValues = generateOptions(unfilteredData || data, property);\n      // if less than two values, nothing to filter\n      if (uniqueValues.length < 2) return [undefined, undefined];\n      // if any values aren't numeric, treat as options\n      if (uniqueValues.some(function (v) {\n        return v !== undefined && typeof v !== 'number';\n      })) return [uniqueValues, undefined];\n      // all values are numeric, treat as range\n      // normalize to make it friendler, so [1.3, 4.895] becomes [1, 5]\n      var delta = uniqueValues[uniqueValues.length - 1] - uniqueValues[0];\n      var interval = Number.parseFloat((delta / 3).toPrecision(1));\n      var min = alignMin(uniqueValues[0], interval);\n      var max = alignMax(uniqueValues[uniqueValues.length - 1], interval);\n      return [undefined, [min, max]];\n    }, [children, data, optionsProp, properties, property, rangeProp, unfilteredData]),\n    options = _useMemo[0],\n    range = _useMemo[1];\n  var searchedOptions = useMemo(function () {\n    if (!searchText) return options;\n    // The line below escapes regular expression special characters:\n    // [ \\ ^ $ . | ? * + ( )\n    var escapedText = searchText.replace(/[-\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n    // Create the regular expression with modified value which\n    // handles escaping special characters. Without escaping special\n    // characters, errors will appear in the console\n    var exp = new RegExp(escapedText, 'i');\n    return options.filter(function (o) {\n      return typeof o === 'string' ? exp.test(o) : exp.test(o.label);\n    });\n  }, [options, searchText]);\n  var id = dataId + \"-\" + property;\n  var content = children;\n  if (!content) {\n    if (range) {\n      content = /*#__PURE__*/React.createElement(RangeSelector, {\n        id: id,\n        name: property + \"._range\",\n        defaultValues: range,\n        label: true,\n        min: range[0],\n        max: range[1],\n        step: (range[1] - range[0]) / 20,\n        size: \"full\",\n        round: \"small\"\n      });\n    } else if (options) {\n      if (options.length === 2 && options[1] === true && options[0] === false) {\n        // special case boolean properties\n        content = /*#__PURE__*/React.createElement(CheckBoxGroup, {\n          id: id,\n          name: property,\n          options: booleanOptions\n        });\n      } else if (options.length <= maxCheckBoxGroupOptions) {\n        content = /*#__PURE__*/React.createElement(CheckBoxGroup, {\n          id: id,\n          name: property,\n          options: options\n        });\n      } else {\n        content = /*#__PURE__*/React.createElement(SelectMultiple, {\n          id: id,\n          name: property,\n          showSelectedInline: true,\n          options: searchedOptions,\n          onSearch: options.length >= minSelectSearchOptions ? setSearchText : undefined,\n          onClose: function onClose() {\n            return setSearchText('');\n          }\n        });\n      }\n    }\n  }\n  if (!content) return null;\n  if (noForm)\n    // likely in Toolbar\n    content = /*#__PURE__*/React.createElement(DataForm, {\n      footer: false,\n      updateOn: \"change\"\n    }, content);else content = /*#__PURE__*/React.createElement(FormField, _extends({\n    htmlFor: id,\n    name: property,\n    label: (properties == null || (_properties$property3 = properties[property]) == null ? void 0 : _properties$property3.label) || property\n  }, rest), content);\n  return content;\n};\nDataFilter.propTypes = DataFilterPropTypes;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}